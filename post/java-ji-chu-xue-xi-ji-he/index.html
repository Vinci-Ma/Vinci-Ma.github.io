<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Java基础学习——集合 | Vinci-Ma</title>
<link rel="shortcut icon" href="https://Vinci-Ma.github.io/favicon.ico?v=1600674280000">
<link href="https://cdn.remixicon.com/releases/v2.1.0/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://Vinci-Ma.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Java基础学习——集合 | Vinci-Ma - Atom Feed" href="https://Vinci-Ma.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="
Java集合

一、集合（Collection）

数组和集合的区别：
Collection功能：
List集合
Set集合


二、List集合

1、ArrayList

构造方法：
add方法

1、public boolean a..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://Vinci-Ma.github.io">
  <img class="avatar" src="https://Vinci-Ma.github.io/images/avatar.png?v=1600674280000" alt="">
  </a>
  <h1 class="site-title">
    Vinci-Ma
  </h1>
  <p class="site-description">
    Stay cooool!
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="https://Vinci-Ma.github.io/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Vinci-Ma" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Java基础学习——集合
            </h2>
            <div class="post-info">
              <span>
                2020-07-06
              </span>
              <span>
                6 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p><ul class="markdownIt-TOC">
<li><a href="#java%E9%9B%86%E5%90%88">Java集合</a>
<ul>
<li><a href="#%E4%B8%80-%E9%9B%86%E5%90%88collection">一、集合（Collection）</a>
<ul>
<li><a href="#%E6%95%B0%E7%BB%84%E5%92%8C%E9%9B%86%E5%90%88%E7%9A%84%E5%8C%BA%E5%88%AB">数组和集合的区别：</a></li>
<li><a href="#collection%E5%8A%9F%E8%83%BD">Collection功能：</a></li>
<li><a href="#list%E9%9B%86%E5%90%88">List集合</a></li>
<li><a href="#set%E9%9B%86%E5%90%88">Set集合</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-list%E9%9B%86%E5%90%88">二、List集合</a>
<ul>
<li><a href="#1-arraylist">1、ArrayList</a>
<ul>
<li><a href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95">构造方法：</a></li>
<li><a href="#add%E6%96%B9%E6%B3%95">add方法</a>
<ul>
<li><a href="#1-public-boolean-adde-e%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E5%88%B0%E6%AD%A4%E5%88%97%E8%A1%A8%E7%9A%84%E6%9C%AB%E5%B0%BE%E8%BF%94%E5%9B%9E%E7%9A%84%E4%B8%80%E5%AE%9A%E6%98%AFtrue">1、public boolean add(E e)：添加元素到此列表的末尾，返回的一定是==true==</a></li>
<li><a href="#2-public-void-addint-index-e-element%E5%B0%86%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%E6%8F%92%E5%85%A5%E6%AD%A4%E5%88%97%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE">2、public void add(int index, E element)：将指定元素插入此列表中的指定位置</a></li>
</ul>
</li>
<li><a href="#get%E6%96%B9%E6%B3%95">get方法</a></li>
<li><a href="#set%E6%96%B9%E6%B3%95">set方法</a></li>
<li><a href="#remove%E6%96%B9%E6%B3%95">remove方法</a></li>
</ul>
</li>
<li><a href="#2-vector">2、Vector</a></li>
<li><a href="#3-linkedlist">3、LinkedList</a>
<ul>
<li><a href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-2">构造方法：</a></li>
</ul>
</li>
<li><a href="#list%E9%9B%86%E5%90%88%E6%80%BB%E7%BB%93">List集合总结</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</p>
<h1 id="java集合">Java集合</h1>
<ul>
<li>
<p>为什么要学习Java集合？</p>
</li>
<li>
<p>集合和数组有什么区别？</p>
<p>Java是一门面向对象的语言，为了方便操作多个对象，需要把对象存储器起来，而想要存储多个对象，需要一个<strong>容器</strong>（集合）来装载。</p>
<p>简单来说：<mark>Java提供了集合这个工具来方便我们去操纵多个Java对象</mark></p>
</li>
</ul>
<h2 id="一-集合collection">一、集合（Collection）</h2>
<h3 id="数组和集合的区别">数组和集合的区别：</h3>
<ul>
<li>1、长度
<ul>
<li>数组的长度固定</li>
<li>集合的长度可变</li>
</ul>
</li>
<li>2、元素的数据类型
<ul>
<li>数组可以存储<strong>基本数据类型</strong>，也可以存储<strong>引用数据类型</strong>（类、接口、数组）</li>
<li>集合智能存储<strong>引用数据类型</strong></li>
</ul>
</li>
</ul>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5Cjasmi%5CDesktop%5Ccollection%E5%9B%BE.png" alt="Collection结构图" loading="lazy"></figure>
<h3 id="collection功能">Collection功能：</h3>
<p>1、添加功能：</p>
<ul>
<li>boolean add(E e)：添加一个元素</li>
<li>boolean addAll(Collection&lt;? extends E&gt; c)：添加一个集合的元素</li>
</ul>
<p>2、删除功能：</p>
<ul>
<li>boolean remove(Object o)：删除一个元素</li>
<li>boolean removeAll(Collection&lt;?&gt; c)：删除一个集合的所有元素</li>
<li>void clear()：从此集合中删除所有元素</li>
</ul>
<p>3、判断功能：</p>
<ul>
<li>boolean contains(Object o)：判断集合是否包含此元素</li>
<li>boolean containsAll(Collection&lt;?&gt; c)：判断集合是否包含指定的集合中的所有元素</li>
<li>boolean isEmpty()：判断集合是否为空</li>
</ul>
<p>4、获取功能：</p>
<ul>
<li>Iterator<E> iterator()：迭代器</li>
</ul>
<p>5、长度功能：</p>
<ul>
<li>int size()：返回集合中的元素个数</li>
</ul>
<p>6、交集功能：</p>
<ul>
<li>boolean retainAll(Collection&lt;?&gt; c)：从此集合中删除未包含在指定集合中的所有元素，也就是集合A与集合B做交集，最终的结果保存在集合A，返回值表示A集合是否发生变化</li>
</ul>
<h3 id="list集合">List集合</h3>
<p>特点：有序（存储顺序与取出顺序一致），可重复</p>
<p>常用子类：</p>
<ul>
<li>ArrayList：底层数据结构是数组，线程不安全</li>
<li>LinkedList：底层数据结构是链表，线程不安全</li>
<li>Vector：底层数据结构是数组，线程安全</li>
</ul>
<h3 id="set集合">Set集合</h3>
<p>特点：元素不可重复</p>
<p>常用子类：</p>
<ul>
<li>HashSet：底层数据结构是哈希表（是一个元素为链表的数组）</li>
<li>TreeSet：底层数据结构是红黑树（是一个自平衡的二叉树），保证元素的排序方式</li>
<li>LinkedHashSet：底层数据结构有哈希表和链表组成</li>
</ul>
<h2 id="二-list集合">二、List集合</h2>
<h3 id="1-arraylist">1、ArrayList</h3>
<p>底层的数据结构是数组，线程不安全，对于添加删除慢，查找快</p>
<h4 id="构造方法">构造方法：</h4>
<ul>
<li>
<p>ArrayList()：构造一个初始容量为<mark>10</mark>的空列表【在最开始时是一个长度为0的数组，在第一次添加数据时扩容为10】</p>
</li>
<li>
<p>ArrayList(int initialCapacity)：构造指定容量的空列表</p>
</li>
<li>
<p>ArrayList(Collection&lt;? extends E&gt; c)：按照集合的迭代器返回的顺序构造一个包含指定集合元素的列表</p>
</li>
</ul>
<h4 id="add方法">add方法</h4>
<h5 id="1-public-boolean-adde-e添加元素到此列表的末尾返回的一定是true">1、public boolean add(E e)：添加元素到此列表的末尾，返回的一定是<mark>true</mark></h5>
<p>实现方式：</p>
<ul>
<li>首先检查数组的容量是否足够
<ul>
<li>足够：直接添加数据</li>
<li>不够：扩容
<ul>
<li>扩容到原来的1.5倍</li>
<li>第一次扩容后，如果容量还是小于minCapacity（最小需要的长度），就将容量扩充为minCapacity</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2-public-void-addint-index-e-element将指定元素插入此列表中的指定位置">2、public void add(int index, E element)：将指定元素插入此列表中的指定位置</h5>
<p>实现方式：</p>
<ul>
<li>首先查看角标是否越界</li>
<li>空间检查，如果有需要，进行扩容</li>
<li>利用arraycopy（）来插入元素</li>
</ul>
<h4 id="get方法">get方法</h4>
<p>public E get(int index)：返回此列表中指定未知的元素</p>
<p>实现方式：</p>
<ul>
<li>检查角标</li>
<li>返回相应元素</li>
</ul>
<pre><code class="language-java">public E get(int index){
    rangeCheck(index);
    return elementData(index);
}
// 检查角标
private void rangeCheck(int index) {
if (index &gt;= size)
throw new IndexOutOfBoundsException(outOfBoundsMsg(index));
}
//返回相应元素
E elementData(int index) {
return (E) elementData[index];
}
</code></pre>
<h4 id="set方法">set方法</h4>
<p>public E set(int index, E element)：用指定的元素替代此列表中指定未知的元素</p>
<p>实现方法：</p>
<ul>
<li>检查角标</li>
<li>替代元素</li>
<li>放回旧元素的值</li>
</ul>
<pre><code class="language-java">public E set(int index, E element){
    rangeCheck(index);
    E oldValue = elementData(index);
    elementData[index] = element;
    return oldValue;
}
</code></pre>
<h4 id="remove方法">remove方法</h4>
<p>public E remove(int index)：删除指定位置的元素，返回被删除的元素，删除元素时不会减少容量</p>
<p>实现方式：</p>
<ul>
<li>检查角标</li>
<li>删除元素</li>
<li>计算出需要移动的个数，并进行移动</li>
<li>将数组最后一个多余的数据设置为null，让GC回收</li>
</ul>
<pre><code class="language-java">public E remove(int index) {
    rangeCheck(index);
    modCount++;
    E oldValue = elementData(index);
    int numMoved = size - index - 1;
    if (numMoved &gt; 0)
        System.arraycopy(elementData, index+1, elementData, index,numMoved);
    elementData[--size] = null; // clear to let GC do its work
    return oldValue;
}
</code></pre>
<h3 id="2-vector">2、Vector</h3>
<p>Vector底层也是<strong>数组</strong>，与ArrayList最大的区别是：</p>
<p>1、<mark>线程安全</mark></p>
<p>2、ArrayList在底层数组不够用时，扩容为原来的1.5倍，Vector扩容为原来的2倍（如果指定增量，则按照增量扩容）</p>
<h3 id="3-linkedlist">3、LinkedList</h3>
<p>LinkedList底层是<strong>双向链表</strong>，增删更快，查找慢【和数组相反】</p>
<h4 id="构造方法-2">构造方法：</h4>
<ul>
<li>LinkedList()：构造一个空列表</li>
<li>LinkedList(Collection&lt;? extends E&gt; c)：按照集合的迭代器返回的顺序构造一个包含指定集合元素的列表</li>
</ul>
<h3 id="list集合总结">List集合总结</h3>
<p>ArrayList：</p>
<ul>
<li>底层实现结构是数组</li>
<li>默认初始化是10，每次扩容为原来的1.5倍</li>
<li>在增删时需要数组的拷贝复制【arraycopy()】</li>
</ul>
<p>Vector：</p>
<ul>
<li>底层实现结构是数组</li>
<li>默认初始化是10，每次扩容为原来的2倍</li>
</ul>
<p>LinkedList：</p>
<ul>
<li>底层实现结构是双向链表</li>
</ul>
<p><mark>使用场景：增删多使用LinkedList，查询多使用ArrayList</mark></p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#java%E9%9B%86%E5%90%88">Java集合</a>
<ul>
<li><a href="#%E4%B8%80-%E9%9B%86%E5%90%88collection">一、集合（Collection）</a>
<ul>
<li><a href="#%E6%95%B0%E7%BB%84%E5%92%8C%E9%9B%86%E5%90%88%E7%9A%84%E5%8C%BA%E5%88%AB">数组和集合的区别：</a></li>
<li><a href="#collection%E5%8A%9F%E8%83%BD">Collection功能：</a></li>
<li><a href="#list%E9%9B%86%E5%90%88">List集合</a></li>
<li><a href="#set%E9%9B%86%E5%90%88">Set集合</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-list%E9%9B%86%E5%90%88">二、List集合</a>
<ul>
<li><a href="#1-arraylist">1、ArrayList</a>
<ul>
<li><a href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95">构造方法：</a></li>
<li><a href="#add%E6%96%B9%E6%B3%95">add方法</a>
<ul>
<li><a href="#1-public-boolean-adde-e%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E5%88%B0%E6%AD%A4%E5%88%97%E8%A1%A8%E7%9A%84%E6%9C%AB%E5%B0%BE%E8%BF%94%E5%9B%9E%E7%9A%84%E4%B8%80%E5%AE%9A%E6%98%AFtrue">1、public boolean add(E e)：添加元素到此列表的末尾，返回的一定是==true==</a></li>
<li><a href="#2-public-void-addint-index-e-element%E5%B0%86%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%E6%8F%92%E5%85%A5%E6%AD%A4%E5%88%97%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE">2、public void add(int index, E element)：将指定元素插入此列表中的指定位置</a></li>
</ul>
</li>
<li><a href="#get%E6%96%B9%E6%B3%95">get方法</a></li>
<li><a href="#set%E6%96%B9%E6%B3%95">set方法</a></li>
<li><a href="#remove%E6%96%B9%E6%B3%95">remove方法</a></li>
</ul>
</li>
<li><a href="#2-vector">2、Vector</a></li>
<li><a href="#3-linkedlist">3、LinkedList</a>
<ul>
<li><a href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-2">构造方法：</a></li>
</ul>
</li>
<li><a href="#list%E9%9B%86%E5%90%88%E6%80%BB%E7%BB%93">List集合总结</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://Vinci-Ma.github.io/post/java-zhong-de-di-gui-suan-fa/">
              <h3 class="post-title">
                Java中的递归算法
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  
  <a class="rss" href="https://Vinci-Ma.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
